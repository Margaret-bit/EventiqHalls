import { useState } from "react";
import styled from "styled-components";
import { useNavigate } from "react-router-dom";
import SignupDropdown from "./signupDropdown/SignupDropdown";
import { Link } from "react-scroll";

const LandingpageHeader = () => {
  const navigate = useNavigate();
  const [menuOpen, setMenuOpen] = useState(false);

  return (
    <Container>
      <Nav_Content>
        <Logo>
          <svg
            width="100"
            height="45"
            viewBox="0 0 100 45"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M18.0469 11.4844C18.5417 11.0807 19.0234 10.5794 19.4922 9.98047C19.9609 9.38151 20.3776 8.75 20.7422 8.08594C21.1068 7.42188 21.3997 6.74479 21.6211 6.05469C21.8424 5.36458 21.9531 4.72005 21.9531 4.12109C21.9531 3.63932 21.8359 3.23568 21.6016 2.91016C21.3802 2.57161 20.9701 2.40234 20.3711 2.40234C19.8633 2.40234 19.3034 2.51953 18.6914 2.75391C18.0794 2.98828 17.4609 3.3138 16.8359 3.73047C16.2109 4.13411 15.599 4.6224 15 5.19531C14.4141 5.75521 13.8932 6.36719 13.4375 7.03125C12.9818 7.69531 12.6107 8.39193 12.3242 9.12109C12.0508 9.85026 11.9141 10.5859 11.9141 11.3281C11.9141 11.9661 11.9922 12.5195 12.1484 12.9883C12.3047 13.444 12.5326 13.8542 12.832 14.2188C13.1315 14.5703 13.4896 14.8958 13.9062 15.1953C14.3359 15.4948 14.8242 15.8073 15.3711 16.1328C13.7305 16.8229 12.2201 17.6758 10.8398 18.6914C9.47266 19.694 8.29427 20.7812 7.30469 21.9531C6.3151 23.125 5.54036 24.3359 4.98047 25.5859C4.43359 26.8229 4.16016 28.0143 4.16016 29.1602C4.16016 29.5638 4.25781 29.9219 4.45312 30.2344C4.64844 30.5339 4.95443 30.6836 5.37109 30.6836C5.91797 30.6836 6.52995 30.5339 7.20703 30.2344C7.88411 29.9349 8.58724 29.5443 9.31641 29.0625C10.0456 28.5807 10.7747 28.0404 11.5039 27.4414C12.2461 26.8424 12.9362 26.2435 13.5742 25.6445C14.2253 25.0326 14.8047 24.4531 15.3125 23.9062C15.8203 23.3594 16.224 22.8971 16.5234 22.5195C17.3047 23.1445 17.9818 23.7044 18.5547 24.1992C19.1276 24.681 19.6615 25.1237 20.1562 25.5273C19.9349 25.8268 19.5638 26.2435 19.043 26.7773C18.5352 27.3112 17.9232 27.8841 17.207 28.4961C16.5039 29.1081 15.7292 29.7331 14.8828 30.3711C14.0495 30.9961 13.1966 31.5625 12.3242 32.0703C11.4648 32.5781 10.612 32.9948 9.76562 33.3203C8.91927 33.6458 8.14453 33.8086 7.44141 33.8086C6.82943 33.8086 6.21745 33.7044 5.60547 33.4961C5.00651 33.2878 4.43359 33.0078 3.88672 32.6562C3.33984 32.3177 2.83203 31.9206 2.36328 31.4648C1.90755 31.0221 1.51042 30.5599 1.17188 30.0781C0.820312 29.5964 0.540365 29.1146 0.332031 28.6328C0.123698 28.151 0.0130208 27.7018 0 27.2852V26.8164C0 25.4492 0.240885 24.1602 0.722656 22.9492C1.20443 21.7383 1.86198 20.625 2.69531 19.6094C3.54167 18.5807 4.52474 17.6562 5.64453 16.8359C6.77734 16.0026 7.98828 15.2799 9.27734 14.668C9.04297 14.4336 8.80859 14.1797 8.57422 13.9062C8.35286 13.6328 8.15104 13.3268 7.96875 12.9883C7.79948 12.6367 7.66276 12.2461 7.55859 11.8164C7.45443 11.3867 7.40234 10.9049 7.40234 10.3711C7.40234 9.45964 7.5651 8.56771 7.89062 7.69531C8.21615 6.82292 8.65234 6.0026 9.19922 5.23438C9.74609 4.46615 10.3841 3.76302 11.1133 3.125C11.8555 2.48698 12.6367 1.9401 13.457 1.48438C14.2773 1.01562 15.1172 0.651042 15.9766 0.390625C16.8359 0.130208 17.6693 0 18.4766 0C19.8177 0 20.7552 0.136719 21.2891 0.410156C21.7318 0.644531 22.207 0.983073 22.7148 1.42578C23.2357 1.86849 23.7174 2.35677 24.1602 2.89062C24.6029 3.41146 24.974 3.94531 25.2734 4.49219C25.5729 5.02604 25.7227 5.50781 25.7227 5.9375C25.7227 6.67969 25.599 7.45443 25.3516 8.26172C25.1042 9.06901 24.7786 9.85677 24.375 10.625C23.9714 11.3802 23.5091 12.0964 22.9883 12.7734C22.4674 13.4375 21.9401 13.9974 21.4062 14.4531L18.0469 11.4844ZM31.7969 28.457C31.25 28.457 30.7747 28.3659 30.3711 28.1836C29.9414 28.6393 29.4922 29.069 29.0234 29.4727C28.5547 29.8633 28.0924 30.2083 27.6367 30.5078C27.181 30.8203 26.7318 31.0677 26.2891 31.25C25.8464 31.4323 25.4297 31.5365 25.0391 31.5625C24.8438 31.5625 24.5573 31.4779 24.1797 31.3086C23.8151 31.1393 23.457 30.918 23.1055 30.6445C22.7409 30.3841 22.4284 30.0846 22.168 29.7461C21.8945 29.3945 21.7578 29.043 21.7578 28.6914C21.7578 27.832 21.8424 26.9727 22.0117 26.1133C22.181 25.2409 22.3958 24.3815 22.6562 23.5352C22.9036 22.6888 23.1836 21.862 23.4961 21.0547C23.7956 20.2344 24.082 19.4466 24.3555 18.6914C25.0195 18.9909 25.6641 19.3229 26.2891 19.6875C26.9271 20.0521 27.5195 20.4818 28.0664 20.9766C27.8711 21.3672 27.6758 21.8164 27.4805 22.3242C27.2852 22.832 27.0964 23.3594 26.9141 23.9062C26.7318 24.4531 26.5625 25 26.4062 25.5469C26.25 26.0938 26.1133 26.6016 25.9961 27.0703C25.8789 27.5391 25.7878 27.9557 25.7227 28.3203C25.6576 28.6719 25.625 28.9258 25.625 29.082C25.625 29.1862 25.6445 29.2839 25.6836 29.375C25.7357 29.4531 25.8138 29.4922 25.918 29.4922C26.1263 29.4922 26.3542 29.4271 26.6016 29.2969C26.862 29.1667 27.1354 28.9974 27.4219 28.7891C27.7083 28.5677 27.9948 28.3138 28.2812 28.0273C28.5807 27.7279 28.8672 27.4154 29.1406 27.0898C28.9062 26.6862 28.7891 26.2826 28.7891 25.8789C28.7891 25.6055 28.8281 25.2799 28.9062 24.9023C28.9974 24.5117 29.1146 24.1081 29.2578 23.6914C29.401 23.2747 29.5573 22.8581 29.7266 22.4414C29.9089 22.0117 30.0911 21.6146 30.2734 21.25C30.4688 20.8854 30.651 20.5664 30.8203 20.293C31.0026 20.0195 31.1654 19.8177 31.3086 19.6875C31.6081 19.8047 31.9206 19.9674 32.2461 20.1758C32.5716 20.3711 32.8711 20.5859 33.1445 20.8203C33.418 21.0417 33.6393 21.263 33.8086 21.4844C33.9909 21.6927 34.0951 21.8685 34.1211 22.0117C34.1211 22.2852 34.056 22.6042 33.9258 22.9688C33.7956 23.3333 33.6133 23.7305 33.3789 24.1602C33.1576 24.5768 32.8841 25.0195 32.5586 25.4883C32.2461 25.944 31.901 26.4062 31.5234 26.875C31.6016 26.901 31.6797 26.9271 31.7578 26.9531C31.849 26.9661 31.9531 26.9727 32.0703 26.9727C32.5911 26.9727 33.0534 26.9206 33.457 26.8164C33.8607 26.7122 34.2448 26.5625 34.6094 26.3672C34.974 26.1589 35.332 25.9049 35.6836 25.6055C36.0352 25.306 36.4193 24.9609 36.8359 24.5703C36.9531 24.6875 37.1029 24.8438 37.2852 25.0391C37.4805 25.2214 37.6367 25.3841 37.7539 25.5273C37.207 26.0742 36.6862 26.5365 36.1914 26.9141C35.7096 27.2786 35.2279 27.5781 34.7461 27.8125C34.2773 28.0339 33.8021 28.1966 33.3203 28.3008C32.8385 28.4049 32.3307 28.457 31.7969 28.457Z"
              fill="currentColor"
            />
          </svg>
        </Logo>

        <Hamburger onClick={() => setMenuOpen(!menuOpen)} $isOpen={menuOpen}>
          <span></span>
          <span></span>
          <span></span>
        </Hamburger>

        <NavItems $isOpen={menuOpen}>
          <NavLink>Home</NavLink>
          <NavLink>About</NavLink>
          <NavLink>Services</NavLink>
          <NavLink>Contact</NavLink>
          <SignupDropdown />
        </NavItems>
      </Nav_Content>
    </Container>
  );
};

const Container = styled.header`
  width: 100%;
  padding: 1rem 2rem;
  background: white;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  position: sticky;
  top: 0;
  z-index: 1000;

  @media (max-width: 768px) {
    padding: 1rem;
  }
`;

const Nav_Content = styled.nav`
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
  position: relative;
`;

const Logo = styled.div`
  display: flex;
  align-items: center;
  z-index: 1001;

  svg {
    width: 100px;
    height: 45px;
    color: #333;

    @media (max-width: 768px) {
      width: 80px;
      height: 36px;
    }

    @media (max-width: 480px) {
      width: 70px;
      height: 31.5px;
    }
  }
`;

const Hamburger = styled.button`
  display: none;
  flex-direction: column;
  background: none;
  border: none;
  cursor: pointer;
  padding: 0.5rem;
  z-index: 1001;
  gap: 5px;

  @media (max-width: 768px) {
    display: flex;
  }

  span {
    width: 25px;
    height: 3px;
    background-color: #333;
    transition: all 0.3s ease;
    border-radius: 3px;

    &:nth-child(1) {
      transform: ${(props) =>
        props.$isOpen ? "rotate(45deg) translate(7px, 7px)" : "rotate(0)"};
    }

    &:nth-child(2) {
      opacity: ${(props) => (props.$isOpen ? "0" : "1")};
    }

    &:nth-child(3) {
      transform: ${(props) =>
        props.$isOpen ? "rotate(-45deg) translate(7px, -7px)" : "rotate(0)"};
    }
  }
`;

const NavItems = styled.div`
  display: flex;
  align-items: center;
  gap: 2rem;

  @media (max-width: 768px) {
    position: fixed;
    top: 0;
    right: 0;
    height: 100vh;
    width: 70%;
    max-width: 300px;
    background: white;
    flex-direction: column;
    justify-content: center;
    gap: 2rem;
    box-shadow: -2px 0 10px rgba(0, 0, 0, 0.1);
    transform: ${(props) =>
      props.$isOpen ? "translateX(0)" : "translateX(100%)"};
    transition: transform 0.3s ease-in-out;
    z-index: 1000;
  }

  @media (max-width: 480px) {
    width: 80%;
  }
`;

const NavLink = styled.a`
  color: #333;
  text-decoration: none;
  font-size: 1rem;
  font-weight: 500;
  cursor: pointer;
  transition: color 0.3s ease;

  &:hover {
    color: #0066cc;
  }

  @media (max-width: 768px) {
    font-size: 1.2rem;
  }
`;

export default LandingpageHeader;
